# Тест-план: Angular Todo App

**Версия:** 1.2
**Дата:** декабрь 2025
**Обновлено:** 31.12.2025  
**Автор:** QA Team Lead  

---

## 1. Введение

Данный документ описывает стратегию тестирования веб-приложения Angular Todo App перед релизом. Приложение представляет собой менеджер задач с интеграцией JSONPlaceholder API.

### 1.1 Ссылки
- Приложение: https://eliasfeijo.github.io/angular-todo-app/
- API: https://jsonplaceholder.typicode.com/todos
- Репозиторий: https://github.com/eliasfeijo/angular-todo-app

---

## 2. Scope тестирования

### 2.1 В scope

| Область | Что тестируем |
|---------|---------------|
| CRUD операции | Создание, просмотр, удаление задач |
| Статусы | Переключение completed/active |
| Фильтрация | ⚠️ Не реализовано в приложении (тесты пропущены) |
| Редактирование | ⚠️ Не реализовано в приложении (тесты пропущены) |
| UI/UX | Отображение элементов, валидация форм, обратная связь |
| API интеграция | Корректность запросов, обработка ответов, таймауты, error handling |
| Accessibility (a11y) | WCAG 2.1 Level A/AA (3 критичных бага найдены: BUG-007, BUG-008, BUG-009) |
| Visual Regression | Скриншоты для desktop, mobile, tablet, dark mode |
| Keyboard Navigation | Tab navigation, focus indicators, keyboard shortcuts |
| Кроссбраузерность | Chrome, Firefox, Safari (WebKit), Mobile Chrome, Mobile Safari |

### 2.2 Вне scope

- Нагрузочное тестирование (JSONPlaceholder — публичный сервис)
- Тестирование безопасности (нет авторизации, частично покрыто в API тестах и XSS проверках)
- Backend тестирование (API не наш, но есть 18 API тестов для валидации endpoints)
- Performance тестирование (базовая проверка времени ответа API включена)

---

## 3. Виды тестирования

### 3.1 Smoke-тестирование
**Цель:** Проверка базовой работоспособности после деплоя.  
**Когда:** После каждого деплоя, перед регрессом.  
**Покрытие:** 5-7 критичных сценариев.

### 3.2 Функциональное тестирование
**Цель:** Проверка соответствия требованиям.  
**Когда:** На каждой итерации разработки.  
**Подход:** Позитивные + негативные сценарии по каждой фиче.

### 3.3 Регрессионное тестирование
**Цель:** Убедиться, что новые изменения не сломали существующий функционал.  
**Когда:** Перед релизом, после крупных изменений.  
**Автоматизация:** Да, приоритет на E2E.

### 3.4 Исследовательское тестирование
**Цель:** Поиск неочевидных багов, edge cases.  
**Когда:** После функционального, 2-3 сессии по 45 минут.

### 3.5 Кроссбраузерное тестирование
**Цель:** Единообразная работа в разных браузерах.  
**Браузеры:** Chrome 120+, Firefox 120+, Safari 17+, Mobile Chrome (Pixel 5), Mobile Safari (iPhone 12).

### 3.6 Visual Regression тестирование
**Цель:** Обнаружение визуальных регрессий после изменений.  
**Когда:** Перед релизом, после изменений UI.  
**Покрытие:** Desktop, mobile, tablet, dark mode.

### 3.7 Accessibility тестирование
**Цель:** Соответствие WCAG 2.1 Level A/AA требованиям.  
**Когда:** На каждой итерации, перед релизом.  
**Инструменты:** axe-core через Playwright, ручная проверка screen reader.

### Обоснование выбора

Smoke и функциональное — обязательный минимум для любого релиза. Регрессионное автоматизируем, потому что приложение небольшое и стабильное — ROI от автотестов будет положительным уже после 3-4 прогонов. Исследовательское добавляем, так как JSONPlaceholder имеет специфическое поведение (фейковые ответы), которое может приводить к неочевидным багам. Visual regression и accessibility критичны для веб-приложений — автоматизация этих проверок экономит время и повышает качество.

---

## 4. Критерии входа и выхода

### 4.1 Entry Criteria (начало тестирования)

- [ ] Код смержен в тестовую ветку
- [ ] Приложение развёрнуто на тестовом окружении
- [ ] API JSONPlaceholder доступен
- [ ] Тест-кейсы актуализированы
- [ ] Автотесты проходят локально

### 4.2 Exit Criteria (завершение тестирования)

- [x] Все smoke-тесты пройдены
- [ ] Критических и блокирующих багов нет (3 критичных бага открыто - BUG-007, BUG-008, BUG-009)
- [x] Major баги задокументированы, есть workaround или план фикса
- [x] Покрытие автотестами ≥ 80% основных сценариев (достигнуто 85%)
- [x] Регресс пройден на всех целевых браузерах
- [x] Тестовая документация актуальна

### 4.3 Suspension Criteria (приостановка)

- API JSONPlaceholder недоступен > 30 минут
- Критический баг блокирует > 50% функционала
- Тестовое окружение нестабильно

---

## 5. Тестовое окружение

### 5.1 Окружения

| Окружение | URL | Назначение |
|-----------|-----|------------|
| Local | http://localhost:4200 | Разработка, отладка тестов |
| Staging | TBD | Интеграционное тестирование |
| Production | https://eliasfeijo.github.io/angular-todo-app/ | Smoke после релиза |

### 5.2 Инструменты

- **Автоматизация:** Playwright 1.57.0+
- **Язык:** TypeScript
- **CI/CD:** GitHub Actions (рекомендация)
- **Отчёты:** Playwright HTML Reporter, Allure Playwright
- **Accessibility:** axe-core через @axe-core/playwright
- **Visual Testing:** Playwright Screenshots (snapshots)
- **Баг-трекер:** GitHub Issues / Jira / Notion

### 5.3 Тестовые данные

JSONPlaceholder возвращает 200 задач по умолчанию. Особенности:
- POST возвращает `id: 201` для новых задач
- PUT/DELETE возвращают 200 даже для несуществующих ID
- Данные не персистятся — после reload всё сбрасывается

---

## 6. Риски и митигация

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| JSONPlaceholder недоступен | Средняя | Высокое | Мок-сервер для критичных тестов, retry-логика |
| Flaky тесты из-за задержек API | Высокая | Среднее | Явные waits, увеличенные таймауты, retry |
| Данные сбрасываются при reload | 100% | Среднее | Учитывать в дизайне тестов, не полагаться на state между тестами |
| Разное поведение в браузерах | Низкая | Среднее | Кроссбраузерные прогоны в CI |
| Нехватка времени на полный регресс | Средняя | Высокое | Приоритизация тестов, автоматизация smoke |

---

## 7. Оценка трудозатрат

### 7.1 Первичное тестирование (однократно)

| Активность | Часы |
|------------|------|
| Анализ требований, exploratory | 2-3 |
| Написание тест-кейсов | 4-5 (51 кейс) |
| Настройка тестового фреймворка | 2 |
| Написание автотестов (405 тестов в 8 файлах) | 10-14 |
| Ручное тестирование + баг-репорты | 4-5 (12 багов) |
| Документация | 2-3 |
| **Итого** | **24-30** |

### 7.2 Регрессионное тестирование (на релиз)

| Активность | Часы |
|------------|------|
| Прогон автотестов + анализ | 1 |
| Ручной smoke | 0.5 |
| Кроссбраузерная проверка | 1 |
| Исследовательская сессия | 1.5 |
| **Итого на релиз** | **4** |

---

## 8. Deliverables

- [x] Тест-план (этот документ)
- [x] Тест-кейсы (TEST_CASES.md) - 51 кейс (85% реализовано, 5 N/A)
- [x] Баг-репорты (BUG_REPORTS.md) - 12 багов (8 открыто, 3 исправлено, 1 N/A)
- [x] Автотесты Playwright - 8 файлов, 405 тестов (кроссбраузерные прогоны)
- [ ] Отчёт о тестировании

### Статистика покрытия

- **Тест-кейсы:** 51 (85% реализовано)
- **Автотесты:** 405 тестов в 8 файлах
- **Покрытие:** 85% основных сценариев
- **Браузеры:** Chrome, Firefox, Safari, Mobile Chrome, Mobile Safari
- **Виды тестирования:** Smoke, CRUD, API, Accessibility, Visual Regression, Keyboard Navigation

---

## 9. Approval

| Роль | Имя | Дата | Подпись |
|------|-----|------|---------|
| QA Lead | | | |
| Dev Lead | | | |
| PM | | | |
